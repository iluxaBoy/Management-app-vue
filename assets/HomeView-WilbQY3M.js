import{d as h,u as T,r as v,T as A,c as i,a as t,b as x,w as P,e as D,v as k,n as C,t as b,o as d,S as g,f as I,g as N,F as w,h as j,i as p,j as F,k as M,l as V}from"./index-g54JBHQ3.js";import{u as $}from"./useFilterData-BmJpKpk6.js";const B={key:0,class:"text-red-500 text-sm mt-1 block"},U=h({__name:"FormInputComponent",setup(S,{expose:y}){const m=T(),c=v();y({showDialog:()=>c.value?.showModal(),closeDialog:()=>c.value?.close()});const l=v(""),o=v({id:Date.now(),name:"",status:A.TO_DO,createdAt:"",description:"",tasksAmount:0}),n=()=>{const f=new Date(Date.now()),e=f.getFullYear(),u=f.getMonth()+1;return`${f.getDate()}-${u}-${e}`},r=()=>{l.value="",o.value={id:Date.now(),name:"",status:A.TO_DO,createdAt:"",description:"",tasksAmount:0},c.value?.close()},_=()=>{if(o.value){if(!o.value.name.trim()){l.value="Project name is required";return}l.value="",o.value.createdAt=n(),m.addProject(o.value),r()}};return(f,e)=>(d(),i("dialog",{ref_key:"dialogRef",ref:c,class:"app-dialog"},[t("div",{class:"p-6 pb-0 flex justify-between items-center"},[e[3]||(e[3]=t("h3",{class:"text-xl font-bold text-slate-800 m-0"},"Add New Project",-1)),t("button",{onClick:r,class:"text-slate-400 hover:text-slate-600 cursor-pointer transition-colors"}," X ")]),o.value?(d(),i("form",{key:0,onSubmit:P(_,["prevent"])},[t("div",null,[e[4]||(e[4]=t("label",{for:"name"},"Project Name",-1)),D(t("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>o.value.name=u),type:"text",id:"name",name:"name",class:C(["input-field",{"!border-red-500 !focus:ring-red-500":l.value}]),placeholder:"Enter project name",onInput:e[1]||(e[1]=u=>l.value="")},null,34),[[k,o.value.name]]),l.value?(d(),i("span",B,b(l.value),1)):x("",!0)]),t("div",null,[e[5]||(e[5]=t("label",{for:"description"},"Project Description",-1)),D(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=u=>o.value.description=u),id:"description",name:"description",class:"input-field",rows:"3",placeholder:"Enter description"},null,512),[[k,o.value.description]])]),t("div",{class:"dialog-actions"},[t("button",{type:"button",onClick:r,class:"btn btn-secondary"}," Cancel "),e[6]||(e[6]=t("button",{type:"submit",class:"btn btn-primary"}," Add Project ",-1))])],32)):x("",!0)],512))}}),O={key:0,class:"card"},E={class:"flex justify-between items-end mb-6"},R={class:"flex gap-4 items-end flex-1"},H={class:"flex flex-col items-start gap-2"},Q=["value"],q=["value"],z=["value"],K=["value"],L={class:"flex flex-col items-start gap-2"},X={class:"app-table"},Y={key:0},G=["onClick"],J=h({__name:"TabelComponent",setup(S){const{getTaskAmount:y,filteredProject:m}=$(),c=T(),l=V(),o=v(),n=v(localStorage.getItem("sortBy")||g.ID),r=v(""),_=v(m(r.value,n.value)),f=()=>o.value?.showDialog();I([c.projectsData,n,r],()=>{_.value=m(r.value,n.value),localStorage.setItem("sortBy",n.value)});const e=u=>l.push(`/project/${u}`);return N(()=>{n.value=localStorage.getItem("sortBy")||g.ID}),(u,a)=>(d(),i(w,null,[p(c).projectsData.length>0?(d(),i("div",O,[t("div",E,[t("div",R,[t("div",H,[a[2]||(a[2]=t("label",{for:"sort",class:"font-medium text-slate-600"},"Sort by:",-1)),D(t("select",{"onUpdate:modelValue":a[0]||(a[0]=s=>n.value=s),class:"input-field w-auto"},[t("option",{value:p(g).ID},"ID",8,Q),t("option",{value:p(g).NAME},"Name",8,q),t("option",{value:p(g).TASK_AMOUNT},"Task Amount",8,z),t("option",{value:p(g).STATUS},"Status",8,K)],512),[[F,n.value]])]),t("div",L,[a[3]||(a[3]=t("label",{for:"searchQuery",class:"font-medium text-slate-600"},"Search:",-1)),D(t("input",{"onUpdate:modelValue":a[1]||(a[1]=s=>r.value=s),type:"text",placeholder:"Search projects...",class:"input-field max-w-xs"},null,512),[[k,r.value]])])]),t("button",{onClick:f,class:"btn btn-primary"}," Add Project ")]),t("table",X,[a[4]||(a[4]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Project Name"),t("th",null,"Task Amount"),t("th",null,"Status"),t("th",null,"Created At")])],-1)),p(c).projectsData.length>0?(d(),i("tbody",Y,[(d(!0),i(w,null,M(_.value,s=>(d(),i("tr",{key:s.id,onClick:W=>e(s.id),class:"cursor-pointer"},[t("td",null,b(s.id),1),t("td",null,b(s.name),1),t("td",null,b(p(y)(s.id)),1),t("td",null,[t("span",{class:C(["status-badge",{"status-badge-todo":s.status==="To Do","status-badge-inprogress":s.status==="In Progress","status-badge-completed":s.status==="Completed"}])},b(s.status),3)]),t("td",null,b(s.createdAt||"N/A"),1)],8,G))),128))])):x("",!0)])])):x("",!0),j(U,{ref_key:"showForm",ref:o},null,512)],64))}}),et=h({__name:"HomeView",setup(S){return(y,m)=>(d(),i(w,null,[m[0]||(m[0]=t("h1",null,"Home View",-1)),j(J)],64))}});export{et as default};
